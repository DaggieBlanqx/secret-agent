(window.webpackJsonp=window.webpackJsonp||[]).push([[209],{cGnT:function(t,e,a){"use strict";a.r(e);var s=a("Ow4o"),r=a("vu0Y"),n=a("pLV6");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.a.config.optionMergeStrategies;var p={VueRemarkRoot:r.a},i=function(t){var e=t.options.components=t.options.components||{},a=t.options.computed=t.options.computed||{};Object.keys(p).forEach((function(t){"object"===o(p[t])&&"function"==typeof p[t].render||"function"==typeof p[t]&&"function"==typeof p[t].options.render?e[t]=p[t]:a[t]=function(){return p[t]}}))},c=n.a.config.optionMergeStrategies,v="__vueRemarkFrontMatter",_={excerpt:null,title:"Tab"};var u=function(t){t.options[v]&&(t.options[v]=_),n.a.util.defineReactive(t.options,v,_),t.options.computed=c.computed({$frontmatter:function(){return t.options[v]}},t.options.computed)},l=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VueRemarkRoot",[a("h1",{attrs:{id:"tab"}},[a("a",{attrs:{href:"#tab","aria-hidden":"true"}},[t._v("#")]),t._v("Tab")]),a("p",[t._v("A Tab is similar to a tab in a consumer browser. Each Tab drives an underlying document with its own page lifecycle and resources. Many of the tab functions are available from the SecretAgent object.")]),a("h2",{attrs:{id:"constructor"}},[a("a",{attrs:{href:"#constructor","aria-hidden":"true"}},[t._v("#")]),t._v("Constructor")]),a("p",[t._v("A default tab is provided in each Agent instance. Navigate by using the "),a("a",{attrs:{href:"/docs/basic-interfaces/secret-agent#goto"}},[t._v("secretAgent.goto")]),t._v(" method.")]),a("p",[t._v('When a new window is "popped up" (ie, '),a("code",{pre:!0},[t._v('<a href="/new-place" target="_blank"')]),t._v("), a tab will automatically be associated with the Agent instance. These can be discovered using the "),a("a",{attrs:{href:"/docs/basic-interfaces/secret-agent#tabs"}},[t._v("secretAgent.tabs")]),t._v(" method, or waiting with "),a("a",{attrs:{href:"/docs/basic-interfaces/secret-agent#wait-for-new-tab"}},[t._v("secretAgent.waitForNewTab()")]),t._v(".")]),a("h2",{attrs:{id:"properties"}},[a("a",{attrs:{href:"#properties","aria-hidden":"true"}},[t._v("#")]),t._v("Properties")]),a("h3",{attrs:{id:"cookie-storage"}},[a("a",{attrs:{href:"#cookie-storage","aria-hidden":"true"}},[t._v("#")]),t._v("tab.cookieStorage")]),a("p",[t._v("Returns a "),a("a",{attrs:{href:"/docs/advanced/cookie-storage"}},[t._v("CookieStorage")]),t._v(" instance to get/set/delete Tab cookies.")]),a("h4",{attrs:{id:"type-cookiestorage"}},[a("a",{attrs:{href:"#type-cookiestorage","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Type")]),t._v(": "),a("a",{attrs:{href:"/docs/advanced/cookie-storage"}},[a("code",{pre:!0},[t._v("CookieStorage")])])]),a("h3",{attrs:{id:"document"}},[a("a",{attrs:{href:"#document","aria-hidden":"true"}},[t._v("#")]),t._v("tab.document "),a("div",{staticClass:"specs"},[a("i",[t._v("W3C")])])]),a("p",[t._v("Returns a reference to the document of the tab.")]),a("h4",{attrs:{id:"type-superdocument"}},[a("a",{attrs:{href:"#type-superdocument","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Type")]),t._v(": "),a("a",{attrs:{href:"/docs/awaited-dom/super-document"}},[a("code",{pre:!0},[t._v("SuperDocument")])])]),a("h3",{attrs:{id:"lastCommandId"}},[a("a",{attrs:{href:"#lastCommandId","aria-hidden":"true"}},[t._v("#")]),t._v("tab.lastCommandId")]),a("p",[t._v("An execution point that refers to a command run on this Agent instance ("),a("code",{pre:!0},[t._v("waitForElement")]),t._v(", "),a("code",{pre:!0},[t._v("click")]),t._v(", "),a("code",{pre:!0},[t._v("type")]),t._v(", etc). Command ids can be passed to select "),a("code",{pre:!0},[t._v("waitFor*")]),t._v(" functions to indicate a starting point to listen for changes.")]),a("h4",{attrs:{id:"type-promisenumber"}},[a("a",{attrs:{href:"#type-promisenumber","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Type")]),t._v(": "),a("code",{pre:!0},[t._v("Promise<number>")])]),a("h3",{attrs:{id:"local-storage"}},[a("a",{attrs:{href:"#local-storage","aria-hidden":"true"}},[t._v("#")]),t._v("tab.localStorage "),a("div",{staticClass:"specs"},[a("i",[t._v("W3C")])])]),a("p",[t._v("Returns a reference to the "),a("a",{attrs:{href:"/docs/awaited-dom/storage"}},[t._v("Storage")]),t._v(" object managing localStorage for the tab.")]),a("h4",{attrs:{id:"type-storage"}},[a("a",{attrs:{href:"#type-storage","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Type")]),t._v(": "),a("a",{attrs:{href:"/docs/awaited-dom/storage"}},[a("code",{pre:!0},[t._v("Storage")])])]),a("h3",{attrs:{id:"session-storage"}},[a("a",{attrs:{href:"#session-storage","aria-hidden":"true"}},[t._v("#")]),t._v("tab.sessionStorage "),a("div",{staticClass:"specs"},[a("i",[t._v("W3C")])])]),a("p",[t._v("Returns a reference to the "),a("a",{attrs:{href:"/docs/awaited-dom/storage"}},[t._v("Storage")]),t._v(" object managing sessionStorage for the tab.")]),a("h4",{attrs:{id:"type-storage-1"}},[a("a",{attrs:{href:"#type-storage-1","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Type")]),t._v(": "),a("a",{attrs:{href:"/docs/awaited-dom/storage"}},[a("code",{pre:!0},[t._v("Storage")])])]),a("h3",{attrs:{id:"tabid"}},[a("a",{attrs:{href:"#tabid","aria-hidden":"true"}},[t._v("#")]),t._v("tab.tabId")]),a("p",[t._v("An identifier for the tab.")]),a("h4",{attrs:{id:"type-promisestring"}},[a("a",{attrs:{href:"#type-promisestring","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Type")]),t._v(": "),a("code",{pre:!0},[t._v("Promise<string>")])]),a("h3",{attrs:{id:"url"}},[a("a",{attrs:{href:"#url","aria-hidden":"true"}},[t._v("#")]),t._v("tab.url")]),a("p",[t._v("The url of the active tab.")]),a("h4",{attrs:{id:"type-promisestring-1"}},[a("a",{attrs:{href:"#type-promisestring-1","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Type")]),t._v(": "),a("code",{pre:!0},[t._v("Promise<string>")])]),a("h3",{attrs:{id:"request-type"}},[a("a",{attrs:{href:"#request-type","aria-hidden":"true"}},[t._v("#")]),t._v("tab.Request "),a("div",{staticClass:"specs"},[a("i",[t._v("W3C")])])]),a("p",[t._v("Returns a constructor for a "),a("a",{attrs:{href:"/docs/awaited-dom/request"}},[t._v("Request")]),t._v(" object that can be sent to "),a("a",{attrs:{href:"#fetch"}},[t._v("tab.fetch(request)")]),t._v(".")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",{pre:!0,attrs:{class:"language-js"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token maybe-class-name"}},[t._v("Request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fetch "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" agent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" url "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://dataliberationfoundation.org'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" request "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  headers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'X-From'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://secretagent.dev'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])]),a("h4",{attrs:{id:"type-request"}},[a("a",{attrs:{href:"#type-request","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Type")]),t._v(": "),a("a",{attrs:{href:"/docs/awaited-dom/request"}},[a("code",{pre:!0},[t._v("Request")])])]),a("h2",{attrs:{id:"methods"}},[a("a",{attrs:{href:"#methods","aria-hidden":"true"}},[t._v("#")]),t._v("Methods")]),a("h3",{attrs:{id:"close"}},[a("a",{attrs:{href:"#close","aria-hidden":"true"}},[t._v("#")]),t._v("tab.close"),a("em",[t._v("()")])]),a("p",[t._v("Closes the current tab only (will close the whole Agent instance if there are no open tabs).")]),a("h4",{attrs:{id:"returns-promise"}},[a("a",{attrs:{href:"#returns-promise","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("code",{pre:!0},[t._v("Promise")])]),a("h3",{attrs:{id:"fetch"}},[a("a",{attrs:{href:"#fetch","aria-hidden":"true"}},[t._v("#")]),t._v("tab.fetch"),a("em",[t._v("(requestInput, requestInit)")]),a("div",{staticClass:"specs"},[a("i",[t._v("W3C")])])]),a("p",[t._v('Perform a native "fetch" request in the current tab context.')]),a("h4",{attrs:{id:"arguments"}},[a("a",{attrs:{href:"#arguments","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Arguments")]),t._v(":")]),a("ul",[a("li",[t._v("requestInput "),a("code",{pre:!0},[t._v("IRequestInput")]),t._v(" A "),a("a",{attrs:{href:"#request-type"}},[t._v("Request")]),t._v(" object or url.")]),a("li",[t._v("requestInit "),a("code",{pre:!0},[t._v("IRequestInit?")]),t._v(" Optional request initialization parameters. Follows w3c specification."),a("ul",[a("li",[t._v("Inbound Body currently supports: "),a("code",{pre:!0},[t._v("string")]),t._v(", "),a("code",{pre:!0},[t._v("ArrayBuffer")]),t._v(", "),a("code",{pre:!0},[t._v("null")]),t._v(".")]),a("li",[t._v("Not supported: "),a("code",{pre:!0},[t._v("Blob")]),t._v(", "),a("code",{pre:!0},[t._v("FormData")]),t._v(", "),a("code",{pre:!0},[t._v("ReadableStream")]),t._v(", "),a("code",{pre:!0},[t._v("URLSearchParams")])])])])]),a("h4",{attrs:{id:"returns-promiseresponse"}},[a("a",{attrs:{href:"#returns-promiseresponse","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("a",{attrs:{href:"/docs/awaited-dom/response"}},[a("code",{pre:!0},[t._v("Promise<Response>")])])]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",{pre:!0,attrs:{class:"language-js"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" url "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://dataliberationfoundation.org'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" agent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("fetch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])]),a("p",[t._v("Http Post example with a body:")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",{pre:!0,attrs:{class:"language-js"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" url "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://dataliberationfoundation.org/nopost'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" agent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("fetch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  method"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'post'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  headers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token maybe-class-name"}},[t._v("Authorization")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Basic ZWx1c3VhcmlvOnlsYWNsYXZl'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  body"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token known-class-name class-name"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token spread operator"}},[t._v("...")]),t._v("params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])]),a("h3",{attrs:{id:"focus"}},[a("a",{attrs:{href:"#focus","aria-hidden":"true"}},[t._v("#")]),t._v("tab.focus"),a("em",[t._v("()")])]),a("p",[t._v("Make this tab the "),a("code",{pre:!0},[t._v("activeTab")]),t._v(" within a browser, which directs many SecretAgent methods to this tab.")]),a("h4",{attrs:{id:"returns-promise-1"}},[a("a",{attrs:{href:"#returns-promise-1","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("code",{pre:!0},[t._v("Promise")])]),a("h3",{attrs:{id:"computed-style"}},[a("a",{attrs:{href:"#computed-style","aria-hidden":"true"}},[t._v("#")]),t._v("tab.getComputedStyle"),a("em",[t._v("(element, pseudoElement)")]),a("div",{staticClass:"specs"},[a("i",[t._v("W3C")])])]),a("p",[t._v("Perform a native "),a("code",{pre:!0},[t._v("Window.getComputedStyle")]),t._v(" request in the current tab context - it returns an object containing the values of all CSS properties of an element, after applying active stylesheets and resolving any basic computation those values may contain. Individual CSS property values are accessed through APIs provided by the object, or by indexing with CSS property names.")]),a("h4",{attrs:{id:"arguments-1"}},[a("a",{attrs:{href:"#arguments-1","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Arguments")]),t._v(":")]),a("ul",[a("li",[t._v("element "),a("a",{attrs:{href:"/docs/awaited-dom/super-element"}},[a("code",{pre:!0},[t._v("SuperElement")])]),t._v(" An element loaded in this tab environment.")]),a("li",[t._v("pseudoElement "),a("code",{pre:!0},[t._v("string?")]),t._v(" Optional string specifying the pseudo-element to match (eg, ::before, ::after, etc). More information can be found on "),a("a",{attrs:{href:"https://www.w3.org/TR/css-pseudo-4/",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("w3c")]),t._v(".")])]),a("h4",{attrs:{id:"returns-promisecssstyledeclaration"}},[a("a",{attrs:{href:"#returns-promisecssstyledeclaration","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("a",{attrs:{href:"/docs/awaited-dom/cssstyledeclaration"}},[a("code",{pre:!0},[t._v("Promise<CssStyleDeclaration>")])])]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",{pre:!0,attrs:{class:"language-js"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" agent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("goto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://dataliberationfoundation.org'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token dom variable"}},[t._v("document")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" getComputedStyle "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" agent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("activeTab")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" selector "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token dom variable"}},[t._v("document")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'h1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" style "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getComputedStyle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("selector"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" opacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("getProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'opacity'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])]),a("h3",{attrs:{id:"get-js-value"}},[a("a",{attrs:{href:"#get-js-value","aria-hidden":"true"}},[t._v("#")]),t._v("tab.getJsValue"),a("em",[t._v("(path)")])]),a("p",[t._v("Extract any publicly accessible javascript value from the webpage context.")]),a("h4",{attrs:{id:"arguments-2"}},[a("a",{attrs:{href:"#arguments-2","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Arguments")]),t._v(":")]),a("ul",[a("li",[t._v("path "),a("code",{pre:!0},[t._v("string")])])]),a("h4",{attrs:{id:"returns-promiseserializedvalue"}},[a("a",{attrs:{href:"#returns-promiseserializedvalue","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("code",{pre:!0},[t._v("Promise<SerializedValue>")])]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",{pre:!0,attrs:{class:"language-js"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" agent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("goto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://dataliberationfoundation.org'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" navigatorAgent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" agent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("activeTab")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("getJsValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("navigator.userAgent")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])]),a("h3",{attrs:{id:"back"}},[a("a",{attrs:{href:"#back","aria-hidden":"true"}},[t._v("#")]),t._v("tab.goBack"),a("em",[t._v("(timeoutMs)")])]),a("p",[t._v("Navigates to a previous url in the navigation history.")]),a("h4",{attrs:{id:"arguments-3"}},[a("a",{attrs:{href:"#arguments-3","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Arguments")]),t._v(":")]),a("ul",[a("li",[t._v("timeoutMs "),a("code",{pre:!0},[t._v("number")]),t._v(". Optional timeout milliseconds. Default "),a("code",{pre:!0},[t._v("30,000")]),t._v(". A value of "),a("code",{pre:!0},[t._v("0")]),t._v(" will never timeout.")])]),a("h4",{attrs:{id:"returns-promisestring-the-new-document-url"}},[a("a",{attrs:{href:"#returns-promisestring-the-new-document-url","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("code",{pre:!0},[t._v("Promise<string>")]),t._v(" The new document url.")]),a("h3",{attrs:{id:"forward"}},[a("a",{attrs:{href:"#forward","aria-hidden":"true"}},[t._v("#")]),t._v("tab.goForward"),a("em",[t._v("(timeoutMs)")])]),a("p",[t._v("Navigates forward in the navigation history stack.")]),a("h4",{attrs:{id:"arguments-4"}},[a("a",{attrs:{href:"#arguments-4","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Arguments")]),t._v(":")]),a("ul",[a("li",[t._v("timeoutMs "),a("code",{pre:!0},[t._v("number")]),t._v(". Optional timeout milliseconds. Default "),a("code",{pre:!0},[t._v("30,000")]),t._v(". A value of "),a("code",{pre:!0},[t._v("0")]),t._v(" will never timeout.")])]),a("h4",{attrs:{id:"returns-promisestring-the-new-document-url-1"}},[a("a",{attrs:{href:"#returns-promisestring-the-new-document-url-1","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("code",{pre:!0},[t._v("Promise<string>")]),t._v(" The new document url.")]),a("h3",{attrs:{id:"goto"}},[a("a",{attrs:{href:"#goto","aria-hidden":"true"}},[t._v("#")]),t._v("tab.goto"),a("em",[t._v("(locationHref, timeoutMs?)")])]),a("p",[t._v("Executes a navigation request for the document associated with the parent SecretAgent instance.")]),a("h4",{attrs:{id:"arguments-5"}},[a("a",{attrs:{href:"#arguments-5","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Arguments")]),t._v(":")]),a("ul",[a("li",[t._v("locationHref "),a("code",{pre:!0},[t._v("string")]),t._v(" The location to navigate to.")]),a("li",[t._v("timeoutMs "),a("code",{pre:!0},[t._v("number")]),t._v(". Optional timeout milliseconds. Default "),a("code",{pre:!0},[t._v("30,000")]),t._v(". A value of "),a("code",{pre:!0},[t._v("0")]),t._v(" will never timeout.")])]),a("h4",{attrs:{id:"returns-promiseresource-the-loaded-resource-representing-this-page"}},[a("a",{attrs:{href:"#returns-promiseresource-the-loaded-resource-representing-this-page","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("a",{attrs:{href:"/docs/advanced/resource"}},[a("code",{pre:!0},[t._v("Promise<Resource>")])]),t._v(" The loaded resource representing this page.")]),a("h3",{attrs:{id:"is-element-visible"}},[a("a",{attrs:{href:"#is-element-visible","aria-hidden":"true"}},[t._v("#")]),t._v("tab.isElementVisible"),a("em",[t._v("(element)")])]),a("p",[t._v("Determines if an element is visible to an end user. This method checks whether an element has:")]),a("ul",[a("li",[t._v("layout: width, height, x and y.")]),a("li",[t._v("opacity: non-zero opacity.")]),a("li",[t._v("css visibility: the element does not have a computed style where visibility=hidden.")]),a("li",[t._v("no overlay: no other element which overlays more than one fourth of this element and has at least 1 pixel over the center of the element.")])]),a("h4",{attrs:{id:"arguments-6"}},[a("a",{attrs:{href:"#arguments-6","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Arguments")]),t._v(":")]),a("ul",[a("li",[t._v("element "),a("a",{attrs:{href:"/docs/awaited-dom/super-element"}},[a("code",{pre:!0},[t._v("SuperElement")])]),t._v(". The element to determine visibility.")])]),a("h4",{attrs:{id:"returns-promiseboolean-whether-the-element-is-visible-to-an-end-user"}},[a("a",{attrs:{href:"#returns-promiseboolean-whether-the-element-is-visible-to-an-end-user","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("code",{pre:!0},[t._v("Promise<boolean>")]),t._v(" Whether the element is visible to an end user.")]),a("h3",{attrs:{id:"reload"}},[a("a",{attrs:{href:"#reload","aria-hidden":"true"}},[t._v("#")]),t._v("tab.reload"),a("em",[t._v("(timeoutMs?)")])]),a("p",[t._v("Reload the currently loaded url.")]),a("h4",{attrs:{id:"arguments-7"}},[a("a",{attrs:{href:"#arguments-7","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Arguments")]),t._v(":")]),a("ul",[a("li",[t._v("timeoutMs "),a("code",{pre:!0},[t._v("number")]),t._v(". Optional timeout milliseconds. Default "),a("code",{pre:!0},[t._v("30,000")]),t._v(". A value of "),a("code",{pre:!0},[t._v("0")]),t._v(" will never timeout.")])]),a("h4",{attrs:{id:"returns-promiseresource-the-loaded-resource-representing-this-page-1"}},[a("a",{attrs:{href:"#returns-promiseresource-the-loaded-resource-representing-this-page-1","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("a",{attrs:{href:"/docs/advanced/resource"}},[a("code",{pre:!0},[t._v("Promise<Resource>")])]),t._v(" The loaded resource representing this page.")]),a("h3",{attrs:{id:"take-screenshot"}},[a("a",{attrs:{href:"#take-screenshot","aria-hidden":"true"}},[t._v("#")]),t._v("tab.takeScreenshot"),a("em",[t._v("(options?)")])]),a("p",[t._v("Takes a screenshot of the current contents rendered in the browser. ")]),a("h4",{attrs:{id:"arguments-8"}},[a("a",{attrs:{href:"#arguments-8","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Arguments")]),t._v(":")]),a("ul",[a("li",[t._v("options "),a("code",{pre:!0},[t._v("object")]),t._v(" Optional"),a("ul",[a("li",[t._v("format "),a("code",{pre:!0},[t._v("jpeg | png")]),t._v(". Image format type to create. Default "),a("code",{pre:!0},[t._v("jpeg")]),t._v(".")]),a("li",[t._v("jpegQuality "),a("code",{pre:!0},[t._v("number")]),t._v(". Optional compression quality from 1 to 100 for jpeg images (100 is highest quality).")]),a("li",[t._v("rectangle "),a("code",{pre:!0},[t._v("IRect")]),t._v(". Optionally clip the screenshot to the given rectangle (eg, x, y, width, height). Includes a pixel scale. ")])])])]),a("h4",{attrs:{id:"returns-promisebuffer-buffer-with-image-bytes-in-base64"}},[a("a",{attrs:{href:"#returns-promisebuffer-buffer-with-image-bytes-in-base64","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("code",{pre:!0},[t._v("Promise<Buffer>")]),t._v(" Buffer with image bytes in base64.")]),a("h3",{attrs:{id:"wait-for-painting-stable"}},[a("a",{attrs:{href:"#wait-for-painting-stable","aria-hidden":"true"}},[t._v("#")]),t._v("tab.waitForPaintingStable"),a("em",[t._v("(options)")])]),a("p",[t._v('Wait for the page to be loaded such that a user can see the main content above the fold, including on javascript-rendered pages (eg, Single Page Apps). This load event works around deficiencies in using the Document "load" event, which does not always trigger, and doesn\'t work for Single Page Apps.')]),a("h4",{attrs:{id:"arguments-9"}},[a("a",{attrs:{href:"#arguments-9","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Arguments")]),t._v(":")]),a("ul",[a("li",[t._v("options "),a("code",{pre:!0},[t._v("object")]),t._v(" Optional"),a("ul",[a("li",[t._v("timeoutMs "),a("code",{pre:!0},[t._v("number")]),t._v(". Timeout in milliseconds. Default "),a("code",{pre:!0},[t._v("30,000")]),t._v(".")]),a("li",[t._v("sinceCommandId "),a("code",{pre:!0},[t._v("number")]),t._v(". A "),a("code",{pre:!0},[t._v("commandId")]),t._v(" from which to look for load status changes.")])])])]),a("h4",{attrs:{id:"returns-promisevoid"}},[a("a",{attrs:{href:"#returns-promisevoid","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("code",{pre:!0},[t._v("Promise<void>")])]),a("h3",{attrs:{id:"wait-for-element"}},[a("a",{attrs:{href:"#wait-for-element","aria-hidden":"true"}},[t._v("#")]),t._v("tab.waitForElement"),a("em",[t._v("(element)")])]),a("p",[t._v("Wait until a specific element is present in the dom.")]),a("h4",{attrs:{id:"arguments-10"}},[a("a",{attrs:{href:"#arguments-10","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Arguments")]),t._v(":")]),a("ul",[a("li",[t._v("element "),a("a",{attrs:{href:"/docs/awaited-dom/super-element"}},[a("code",{pre:!0},[t._v("SuperElement")])])]),a("li",[t._v("options "),a("code",{pre:!0},[t._v("object")]),t._v(" Accepts any of the following:"),a("ul",[a("li",[t._v("timeoutMs "),a("code",{pre:!0},[t._v("number")]),t._v(". Timeout in milliseconds. Default "),a("code",{pre:!0},[t._v("30,000")]),t._v(".")]),a("li",[t._v("waitForVisible "),a("code",{pre:!0},[t._v("boolean")]),t._v(". Wait until this element is visible to a user (see "),a("a",{attrs:{href:"#is-element-visible"}},[t._v("isElementVisible")]),t._v(".")])])])]),a("h4",{attrs:{id:"returns-promise-2"}},[a("a",{attrs:{href:"#returns-promise-2","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("code",{pre:!0},[t._v("Promise")])]),a("p",[t._v("If at the moment of calling this method, the selector already exists, the method will return immediately.")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",{pre:!0,attrs:{class:"language-js"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" activeTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token dom variable"}},[t._v("document")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" agent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" elem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token dom variable"}},[t._v("document")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a.visible'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" activeTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("waitForElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  waitForVisible"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])]),a("h3",{attrs:{id:"wait-for-load"}},[a("a",{attrs:{href:"#wait-for-load","aria-hidden":"true"}},[t._v("#")]),t._v("tab.waitForLoad"),a("em",[t._v("(status, options)")])]),a("p",[t._v("Wait for the load status to occur on a page.")]),a("h4",{attrs:{id:"arguments-11"}},[a("a",{attrs:{href:"#arguments-11","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Arguments")]),t._v(":")]),a("ul",[a("li",[t._v("status "),a("code",{pre:!0},[t._v("NavigationRequested | HttpRequested | HttpResponsed | HttpRedirected | DomContentLoaded | PaintingStable")]),t._v(" The load status event to wait for.")]),a("li",[t._v("options "),a("code",{pre:!0},[t._v("object")]),a("ul",[a("li",[t._v("timeoutMs "),a("code",{pre:!0},[t._v("number")]),t._v(". Timeout in milliseconds. Default "),a("code",{pre:!0},[t._v("30,000")]),t._v(".")]),a("li",[t._v("sinceCommandId "),a("code",{pre:!0},[t._v("number")]),t._v(". A "),a("code",{pre:!0},[t._v("commandId")]),t._v(" from which to look for status changed.")])])])]),a("h4",{attrs:{id:"returns-promisevoid-1"}},[a("a",{attrs:{href:"#returns-promisevoid-1","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("code",{pre:!0},[t._v("Promise<void>")])]),a("p",[t._v("The following are possible statuses and their meanings:")]),a("div",{staticClass:"show-table-header show-bottom-border minimal-row-height"}),a("table",[a("thead",[a("tr",[a("th",[t._v("Status")]),a("th",[t._v("Description")])])]),a("tbody",[a("tr",[a("td",[a("code",{pre:!0},[t._v("NavigationRequested")])]),a("td",[t._v("A navigation request is initiated by the page or user")])]),a("tr",[a("td",[a("code",{pre:!0},[t._v("HttpRequested")])]),a("td",[t._v("The http request for the document has been initiated")])]),a("tr",[a("td",[a("code",{pre:!0},[t._v("HttpResponded")])]),a("td",[t._v("The http response has been retrieved")])]),a("tr",[a("td",[a("code",{pre:!0},[t._v("HttpRedirected")])]),a("td",[t._v("The original http request was redirected")])]),a("tr",[a("td",[a("code",{pre:!0},[t._v("DomContentLoaded")])]),a("td",[t._v("The dom content has been received and loaded into the document")])]),a("tr",[a("td",[a("code",{pre:!0},[t._v("PaintingStable")])]),a("td",[t._v("The page has loaded the main content above the fold. Works on javascript-rendered pages.")])])])]),a("h3",{attrs:{id:"wait-for-location"}},[a("a",{attrs:{href:"#wait-for-location","aria-hidden":"true"}},[t._v("#")]),t._v("tab.waitForLocation"),a("em",[t._v("(trigger, options)")])]),a("p",[t._v("Waits for a navigational change to document.location either because of a "),a("code",{pre:!0},[t._v("reload")]),t._v(" event or changes to the URL.")]),a("h4",{attrs:{id:"arguments-12"}},[a("a",{attrs:{href:"#arguments-12","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Arguments")]),t._v(":")]),a("ul",[a("li",[t._v("trigger "),a("code",{pre:!0},[t._v("change | reload")]),t._v(" The same url has been reloaded, or it's a new url.")]),a("li",[t._v("options "),a("code",{pre:!0},[t._v("object")]),a("ul",[a("li",[t._v("timeoutMs "),a("code",{pre:!0},[t._v("number")]),t._v(". Timeout in milliseconds. Default "),a("code",{pre:!0},[t._v("30,000")]),t._v(".")]),a("li",[t._v("sinceCommandId "),a("code",{pre:!0},[t._v("number")]),t._v(". A "),a("code",{pre:!0},[t._v("commandId")]),t._v(" from which to look for changes.")])])])]),a("h4",{attrs:{id:"returns-promise-3"}},[a("a",{attrs:{href:"#returns-promise-3","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("code",{pre:!0},[t._v("Promise")])]),a("p",[t._v("Location changes are triggered in one of two ways:")]),a("div",{staticClass:"show-table-header show-bottom-border minimal-row-height"}),a("table",[a("thead",[a("tr",[a("th",[t._v("Trigger")]),a("th",[t._v("Description")])])]),a("tbody",[a("tr",[a("td",[a("code",{pre:!0},[t._v("change")])]),a("td",[t._v("A navigational change to document.location has been triggered.")])]),a("tr",[a("td",[a("code",{pre:!0},[t._v("reload")])]),a("td",[t._v("A reload of the current document.location has been triggered.")])])])]),a("p",[t._v("The following example waits for a new page to load after clicking on an anchor tag:")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",{pre:!0,attrs:{class:"language-js"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" activeTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token dom variable"}},[t._v("document")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" agent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" activeTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("goto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://example.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("click")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token dom variable"}},[t._v("document")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" activeTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("waitForLocation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'change'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newUrl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" activeTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])]),a("h3",{attrs:{id:"wait-for-resource"}},[a("a",{attrs:{href:"#wait-for-resource","aria-hidden":"true"}},[t._v("#")]),t._v("tab.waitForResource"),a("em",[t._v("(filter, options)")])]),a("p",[t._v("Wait until a specific image, stylesheet, script, websocket or other resource URL has been received.")]),a("h4",{attrs:{id:"arguments-13"}},[a("a",{attrs:{href:"#arguments-13","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Arguments")]),t._v(":")]),a("ul",[a("li",[t._v("filter "),a("code",{pre:!0},[t._v("object")]),t._v(" Accepts any of the following:"),a("ul",[a("li",[t._v("url "),a("code",{pre:!0},[t._v("string | RegExp")]),t._v(" A string or regex to match a url on")]),a("li",[t._v("type "),a("a",{attrs:{href:"/docs/advanced/resource#type"}},[a("code",{pre:!0},[t._v("ResourceType")])]),t._v(" A resource type to filter on")]),a("li",[t._v("filterFn "),a("code",{pre:!0},[t._v("function(resource: Resource, done: Callback): boolean")]),t._v(" A function to allow further filtering of returned resources. Return true to include resources, false to exclude. Calling "),a("code",{pre:!0},[t._v("done")]),t._v(" finishes execution.")])])]),a("li",[t._v("options "),a("code",{pre:!0},[t._v("object")]),t._v(" Accepts any of the following:"),a("ul",[a("li",[t._v("timeoutMs "),a("code",{pre:!0},[t._v("number")]),t._v(". Timeout in milliseconds. Default "),a("code",{pre:!0},[t._v("60,000")]),t._v(".")]),a("li",[t._v("sinceCommandId "),a("code",{pre:!0},[t._v("number")]),t._v(". A "),a("code",{pre:!0},[t._v("commandId")]),t._v(" from which to look for resources.")]),a("li",[t._v("throwIfTimeout "),a("code",{pre:!0},[t._v("boolean")]),t._v(". Throw an exception if a timeout occurs. Default "),a("code",{pre:!0},[t._v("true")]),t._v(".")])])])]),a("h4",{attrs:{id:"returns-promiseresource"}},[a("a",{attrs:{href:"#returns-promiseresource","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("a",{attrs:{href:"/docs/advanced/resource"}},[a("code",{pre:!0},[t._v("Promise<Resource[]>")])])]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",{pre:!0,attrs:{class:"language-js"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" activeTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token dom variable"}},[t._v("document")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" agent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" activeTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("goto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://example.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" elem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token dom variable"}},[t._v("document")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" agent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("click")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get all Fetches that have occurred on the page thus far.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" allFetchResources "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" activeTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("waitForResource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Fetch'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" lastCommandId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" activeTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("lastCommandId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" button "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token dom variable"}},[t._v("document")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#submit'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" agent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("click")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("button"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" xhrsAfterSubmit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" activeTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("waitForResource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Xhr'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    sinceCommandId"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" lastCommandId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])]),a("h3",{attrs:{id:"wait-for-millis"}},[a("a",{attrs:{href:"#wait-for-millis","aria-hidden":"true"}},[t._v("#")]),t._v("tab.waitForMillis"),a("em",[t._v("(millis)")])]),a("p",[t._v("Waits for the specified number of milliseconds.")]),a("h4",{attrs:{id:"arguments-14"}},[a("a",{attrs:{href:"#arguments-14","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Arguments")]),t._v(":")]),a("ul",[a("li",[t._v("millis "),a("code",{pre:!0},[t._v("number")])])]),a("h4",{attrs:{id:"returns-promise-4"}},[a("a",{attrs:{href:"#returns-promise-4","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Returns")]),t._v(": "),a("code",{pre:!0},[t._v("Promise")])]),a("h2",{attrs:{id:"events"}},[a("a",{attrs:{href:"#events","aria-hidden":"true"}},[t._v("#")]),t._v("Events")]),a("p",[t._v("SecretAgent's "),a("a",{attrs:{href:"/docs/basic-interfaces/event-target"}},[t._v("EventTarget")]),t._v(" interface deviates from the official W3C implementation in that it adds several additional method aliases such as "),a("code",{pre:!0},[t._v("on")]),t._v(" and "),a("code",{pre:!0},[t._v("off")]),t._v(". "),a("a",{attrs:{href:"/docs/basic-interfaces/event-target"}},[t._v("Learn more")]),t._v(".")]),a("h3",{attrs:{id:"resource-event"}},[a("a",{attrs:{href:"#resource-event","aria-hidden":"true"}},[t._v("#")]),t._v("'resource'")]),a("p",[t._v("Emitted for each resource request received by the webpage.")]),a("h4",{attrs:{id:"arguments-in-callback"}},[a("a",{attrs:{href:"#arguments-in-callback","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("Arguments in callback")]),t._v(":")]),a("ul",[a("li",[a("a",{attrs:{href:"/docs/advanced/resource"}},[a("code",{pre:!0},[t._v("Resource")])]),t._v(" | "),a("a",{attrs:{href:"/docs/advanced/websocket-resource"}},[a("code",{pre:!0},[t._v("WebsocketResource")])])])])])}),[],!1,null,null,null);"function"==typeof i&&i(l),"function"==typeof u&&u(l);e.default=l.exports},vu0Y:function(t,e,a){"use strict";e.a={name:"VueRemarkRoot",render:function(t){return t("div",null,this.$slots.default)}}}}]);